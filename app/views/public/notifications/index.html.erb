<div class="mx-width-50 content-body mx-auto">
  <div class="row heading">
    <h2>Notifications</h2>
  </div>

  <div class="container" id="update-all">
    <% if @notifications.any? %>
      <div class="text-right small my-2">
        <%= link_to "Delete all notifications", notifications_update_all_path, method: :patch %>
      </div>
      <div class="notification small">
        <% @notifications.each do |notification| %>
          <div class="alert alert-dismissible fade show mb-0" role="alert">
            <div class="row align-items-center">
              <div class="col-1"><%= image_tag notification.sender.get_profile_image(30,30), class: "rounded rounded-circle" %></div>
              <div class="col-11">
                <% if notification.action == "follow" %>
                  <span>フォローされました</span><span class="ml-3 text-muted"><%= time_ago_in_words(notification.created_at) %> ago</span><br>
                  <strong><%= link_to notification.sender.name, user_path(notification.sender) %></strong>
                  started following you!
                <% elsif notification.action == "comment" %>
                  <span>新着コメントがあります</span><span class="ml-3 text-muted"><%= time_ago_in_words(notification.created_at) %> ago</span><br>
                  <strong><%= link_to notification.sender.name, user_path(notification.sender) %></strong>
                  left a comment on your post "<%= link_to notification.post.title, post_path(notification.post_id) %>" !
                <% end %>
              </div>
            </div>
            <div type="button" class="close" data-dismiss="alert" aria-label="Close">
              <%= render "delete-btn", notification: notification %>
            </div>
          </div>
        <% end %>
      </div>
    <% else %>
      <div class="container my-2"><p>No notification <small>未読通知はありません</small></p></div>
    <% end %>
  </div>
</div>